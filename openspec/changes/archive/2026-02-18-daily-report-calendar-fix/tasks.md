## 1. Frontend - DatePicker 未来日期禁用

- [x] 1.1 修改 `disabledDate` 函数，禁用今天之后的日期
- [x] 1.2 验证日期选择器行为：未来日期不可选，今天和历史日期可选

## 2. Frontend - 历史日期无快照确认对话框

- [x] 2.1 在 `DailyReport.jsx` 中导入 `Modal` 组件
- [x] 2.2 修改 `handleDateChange` 函数，检查选中日期是否有快照
- [x] 2.3 实现无快照时的 `Modal.confirm` 确认对话框
- [x] 2.4 用户确认后调用 `handleGenerateSnapshots` 生成报告
- [x] 2.5 验证交互流程：选择无快照日期 → 弹出对话框 → 确认/取消

## 3. Frontend - 交易日检查错误处理优化

- [x] 3.1 添加交易日检查的 loading 状态显示
- [x] 3.2 添加 API 失败时的友好错误提示
- [x] 3.3 验证网络异常时的用户体验

## 4. Backend - 交易日历获取健壮性增强

- [x] 4.1 在 `fetch_trading_calendar_from_akshare` 中添加更详细的错误日志
- [x] 4.2 确保 AkShare 不可用时的降级逻辑正常工作
- [x] 4.3 验证交易日判断在各种异常情况下的行为

## 5. 测试与验证

- [x] 5.1 测试选择未来日期（应被禁用）✓ 通过
- [x] 5.2 测试选择有快照的历史日期（应直接显示报告）✓ 通过
- [x] 5.3 测试选择无快照的历史交易日（应弹出确认对话框）✓ 通过
- [x] 5.4 测试选择非交易日（应显示休市提示）✓ 通过
- [x] 5.5 测试确认生成报告流程 ✓ （通过对话框验证）
- [x] 5.6 测试取消生成报告流程 ✓ 通过
