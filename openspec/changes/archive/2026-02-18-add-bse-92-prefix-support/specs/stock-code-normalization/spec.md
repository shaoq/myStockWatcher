## Purpose

股票代码规范化能力，将用户输入的股票代码转换为新浪财经 API 所需的格式，并识别所属市场。

## Requirements

### Requirement: 带后缀格式的代码转换

系统 SHALL 支持带市场后缀的股票代码格式，并正确转换为新浪 API 格式。

#### Scenario: 上海证券交易所后缀
- **WHEN** 用户输入 `600000.SH` 或 `600000.SS`
- **THEN** 系统 MUST 转换为 `sh600000`
- **AND** 识别市场为 `cn`

#### Scenario: 深圳证券交易所后缀
- **WHEN** 用户输入 `000001.SZ`
- **THEN** 系统 MUST 转换为 `sz000001`
- **AND** 识别市场为 `cn`

#### Scenario: 北京证券交易所后缀
- **WHEN** 用户输入 `832000.BJ`
- **THEN** 系统 MUST 转换为 `bj832000`
- **AND** 识别市场为 `cn`

### Requirement: 6位纯数字代码识别

系统 SHALL 根据 6 位纯数字代码的前缀自动识别所属交易所并转换格式。

#### Scenario: 上交所代码（6开头）
- **WHEN** 用户输入 6 位数字代码且以 `6` 开头（如 `600519`）
- **THEN** 系统 MUST 转换为 `sh600519`
- **AND** 识别市场为 `cn`

#### Scenario: 上交所代码（9开头非92）
- **WHEN** 用户输入 6 位数字代码且以 `9` 开头但不是 `92`（如 `900901`）
- **THEN** 系统 MUST 转换为 `sh900901`
- **AND** 识别市场为 `cn`

#### Scenario: 深交所代码
- **WHEN** 用户输入 6 位数字代码且以 `0` 或 `3` 开头（如 `000001`、`300750`）
- **THEN** 系统 MUST 转换为 `sz000001` 或 `sz300750`
- **AND** 识别市场为 `cn`

#### Scenario: 北交所代码（4开头）
- **WHEN** 用户输入 6 位数字代码且以 `4` 开头（如 `430047`）
- **THEN** 系统 MUST 转换为 `bj430047`
- **AND** 识别市场为 `cn`

#### Scenario: 北交所代码（8开头）
- **WHEN** 用户输入 6 位数字代码且以 `8` 开头（如 `832000`、`873305`、`889899`）
- **THEN** 系统 MUST 转换为 `bj832000`
- **AND** 识别市场为 `cn`

#### Scenario: 北交所代码（92开头）
- **WHEN** 用户输入 6 位数字代码且以 `92` 开头（如 `920493`）
- **THEN** 系统 MUST 转换为 `bj920493`
- **AND** 识别市场为 `cn`

### Requirement: 美股代码识别

系统 SHALL 支持美股代码格式。

#### Scenario: 字母代码
- **WHEN** 用户输入非数字且无点号的代码（如 `AAPL`、`TSLA`）
- **THEN** 系统 MUST 保持原样（不添加前缀）
- **AND** 识别市场为 `us`

### Requirement: 代码大小写处理

系统 SHALL 统一处理代码的大小写。

#### Scenario: 小写后缀转换
- **WHEN** 用户输入小写后缀（如 `600000.sh`）
- **THEN** 系统 MUST 正确识别并转换

#### Scenario: 前后空格处理
- **WHEN** 用户输入带有空格的代码（如 `  600000  `）
- **THEN** 系统 MUST 去除空格后处理
